name = "clean:app"

description = "Refactor and clean any web framework codebase (Flask, Django, or similar)"
prompt = """
Act as a code cleanup specialist. Refactor the entire application while preserving all behavior, APIs, and routes.

Perform the following:

- Remove commented and unused code.
- Maintain complete backward compatibility.
- Run: `ruff check . --fix && ruff format .`
- Run tests with `pytest` and ensure they pass.
- Add tests for critical untested paths.
- Split large functions into smaller focused units.
- Rename unclear variables.
- Reorganize misplaced files.
- Delete empty folders and unused imports.
- Replace vague error messages with clear ones.

Flask:
- Remove unused routes and duplicate blueprints.
- Shift business logic from handlers to services.
- Simplify app factory and extension setup.
- Standardize JSON error responses.
- Add missing 404 and 500 handlers.

Django:
- Remove unused views and serializers.
- Merge duplicate validation logic.
- Optimize ORM queries and fix N+1 issues.
- Remove redundant model methods.
- Clean unused middleware and signals.
- Squash outdated migrations and fix task modules.

Infrastructure:
- Remove duplicate parsers.
- Clean unused configuration options.
- Simplify connection and initialization logic.

Output a file-by-file summary such as:
```

src/routes/users.py

* Removed unused function
* Split create_user() into validate and save steps
* Fixed N+1 query problem

tests/test_users.py

* Added missing test for user creation validation

```

Cleanup order: remove dead code → fix DRY issues → apply refactoring.
"""
